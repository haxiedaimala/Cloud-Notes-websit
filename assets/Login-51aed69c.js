import{d as b,u as E,r as v,c as d,w as I,a as k,b as t,n as p,t as a,e as l,f as _,v as f,o as x,g as y,_ as L}from"./index-dd15576e.js";const C={class:"login-mask"},S={class:"login-wrapper"},T={class:"main"},A={class:"form"},B={class:"form-info"},V=b({__name:"Login",setup(z){const m=E(),g=y(),s=v(!0),e=v({username:"",password:"",isError:!1,notice:s.value?"输入用户名和密码":"创建账户后，请记住用户名和密码"}),r=d(()=>({title:s.value?"没有账号？":"已有账号？",detail:s.value?"点击注册，去注册一个属于你的账号吧":"快快点我去进行登录吧",button:s.value?"注册":"登录"})),c=d(()=>({title:s.value?"登录":"注册",buttonTitle:s.value?"登录":"创建账户"}));I(()=>{e.value.notice=s.value?"输入用户名和密码":"创建账户后，请记住用户名和密码"});const h=()=>s.value=!s.value,u=()=>{const n=/^[a-zA-Z_\d\u4E00-\u9FA5]{3,15}$/.test(e.value.username),o=/^.{6,16}$/.test(e.value.password);return!n||!o?(e.value.isError=!0,e.value.notice=n?"密码长度为6~16个字符":"用户名必须是3~15个字符，限数字字母下划线中文",!1):(e.value.isError=!1,e.value.notice="",!0)},w=()=>{if(!u())return;const n=s.value?"login":"register";m[n]({username:e.value.username,password:e.value.password}).then(()=>{e.value.isError=!1,e.value.notice="",g.push({path:"/notebooks"})}).catch(o=>{e.value.isError=!0,e.value.notice=o.msg})};return(n,o)=>(x(),k("div",C,[t("div",S,[t("div",{class:p(["login-container",{active:!s.value}])},[t("div",T,[t("h3",null,a(l(r).title),1),t("p",null,a(l(r).detail),1),t("div",{onClick:h,class:"button"},a(l(r).button),1)]),t("div",A,[t("h3",null,a(l(c).title),1),t("div",B,[_(t("input",{onInput:u,"onUpdate:modelValue":o[0]||(o[0]=i=>e.value.username=i),type:"text",placeholder:"用户名"},null,544),[[f,e.value.username]]),_(t("input",{onInput:u,"onUpdate:modelValue":o[1]||(o[1]=i=>e.value.password=i),type:"password",placeholder:"密码"},null,544),[[f,e.value.password]]),t("p",{class:p({error:e.value.isError})},a(e.value.notice),3),t("div",{onClick:w,class:"button"},a(l(c).buttonTitle),1)])])],2)])]))}});const U=L(V,[["__scopeId","data-v-dcd0595a"]]);export{U as default};
