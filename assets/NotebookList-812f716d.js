import{d as x,u as B,c as C,h as g,a as _,b as t,t as a,e as u,F as N,i as S,o as i,j as I,k as y,l as E,m as p,p as T,q as w,_ as L}from"./index-dd15576e.js";import{E as r}from"./el-overlay-b147bec6.js";import{u as M}from"./notebook-a19a0919.js";const l=c=>(T("data-v-e5d0e1e0"),c=c(),w(),c),$={class:"notebooks-wrapper"},A=l(()=>t("i",{class:"iconfont icon-note"},null,-1)),D=l(()=>t("span",null,"新建笔记本",-1)),F=[A,D],P={class:"notebook-list"},V=l(()=>t("i",{class:"iconfont icon-note"},null,-1)),j={class:"notebook-title"},q={class:"date"},z=["onClick"],G=["onClick"],H=x({__name:"NotebookList",setup(c){const s=M(),h=B(),d=C(()=>s.notebooks);g(()=>{h.checkLogin(),s.getNotebooks()});const k=()=>{r.prompt("请输入笔记本标题","创建笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^.{1,30}$/,inputErrorMessage:"标题不为空，且不超过30个字符"}).then(({value:e})=>{s.addNotebook({title:e})}).catch(e=>{})},m=e=>{r.prompt("请输入新笔记本标题","修改笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^.{1,30}$/,inputErrorMessage:"标题不为空，且不超过30个字符",inputValue:e.title}).then(({value:n})=>{s.updateNotebook({notebookId:e.id,title:n})}).catch(n=>{})},f=e=>{r.confirm("你确定要删除吗？","删除笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{s.deleteNotebook({notebookId:e.id})}).catch(n=>{})};return(e,n)=>{const b=E("router-link");return i(),_("div",$,[t("header",null,[t("div",{onClick:k,class:"create"},F)]),t("main",null,[t("h3",null,"笔记本列表（"+a(u(d).length)+"）",1),t("div",P,[(i(!0),_(N,null,S(u(d),o=>(i(),I(b,{to:`/note?notebookId=${o.id}`,key:o.id,class:"notebook-item"},{default:y(()=>[V,t("span",j,a(o.title),1),t("span",null,a(o.noteCounts)+"篇",1),t("span",q,a(o.friendlyCreatedAt),1),t("span",{class:"action",onClick:p(v=>m(o),["prevent"])},"编辑",8,z),t("span",{class:"action",onClick:p(v=>f(o),["prevent"])},"删除",8,G)]),_:2},1032,["to"]))),128))])])])}}});const Q=L(H,[["__scopeId","data-v-e5d0e1e0"]]);export{Q as default};
